<#INCLUDE header.template.html#>

<script>

function pivo_initCallGraphData()
{
	<#BEGIN CALL_GRAPH_DATA#>
	pivo_addCallGraphNode(<#RAWVALUE CALLER_ID#>, '<#JSVALUE CALLER_NAME#>', <#RAWVALUE CALLER_FLAT_INCLUSIVE_TIME#>, <#RAWVALUE CALLER_FLAT_INCLUSIVE_TIME_PCT#>);
	pivo_addCallGraphNode(<#RAWVALUE CALLEE_ID#>, '<#JSVALUE CALLEE_NAME#>', <#RAWVALUE CALLEE_FLAT_INCLUSIVE_TIME#>, <#RAWVALUE CALLEE_FLAT_INCLUSIVE_TIME_PCT#>);
	pivo_addCallGraphEdge(<#RAWVALUE CALLER_ID#>, <#RAWVALUE CALLEE_ID#>, <#RAWVALUE CALL_COUNT#>);
	<#END CALL_GRAPH_DATA#>
}

$(document).ready(function() {
	pivo_initCallGraphData();
	pivo_createCallGraph();
	
	$('.report-tab-content').addClass('hidden');
	$('.report-tab-content').first().removeClass('hidden');
});

</script>

<div id="report-container">

	<div id="report-header">
		<h1>PIVO - Report</h1>
		<div id="report-tabbed-menu">
			<div class="report-tab" id="report-tab-menu--basic-info" onclick="pivo_selectTab('basic-info');">BASIC INFO</div>
			<div class="report-tab" id="report-tab-menu--flat-view" onclick="pivo_selectTab('flat-view');">FLAT PROFILE</div>
			<div class="report-tab" id="report-tab-menu--call-graph" onclick="pivo_selectTab('call-graph');">CALL GRAPH</div>
		</div>
	</div>
	
	<div id="report-content">

		<div class="report-tab-content" id="report-tab--basic-info">

			<ul>
			<#BEGIN SUMMARY#>
				<li><#VALUE KEY#>: <#VALUE CONTENT#></li>
			<#END SUMMARY#>
			</ul>

		</div>

		<div class="report-tab-content" id="report-tab--flat-view">
			<table class="flatview">
				<thead>
					<tr>
						<th>Time [%]</th>
						<th>Time [s]</th>
						<th>Inclusive&nbsp;time [%]</th>
						<th>Inclusive&nbsp;time [s]</th>
						<th>Call&nbsp;count</th>
						<th>Function&nbsp;name</th>
					</tr>
				</thead>
				<tbody>
				<#BEGIN FLAT_VIEW_ROWS#>
				<tr>
					<td><#VALUE PCT_TIME#></td>
					<td><#VALUE TOTAL_TIME#></td>
					<td><#VALUE PCT_INCLUSIVE_TIME#></td>
							<td><#VALUE TOTAL_INCLUSIVE_TIME#></td>
					<td><#VALUE CALL_COUNT#></td>
					<td class="nametd"><div class="tdfulltop padded"><#VALUE FUNCTION_NAME#></div><div class="tdfill func_bg_<#VALUE FUNCTION_TYPE#>" style="width: <#VALUE PCT_TIME#>%;"></div></td>
				</tr>
				<#END FLAT_VIEW_ROWS#>
				</tbody>
			</table>
		</div>
		
		<div class="report-tab-content" id="report-tab--call-graph">
			<div id="callgraph_canvas">
			</div>
		</div>

	</div>

</div>

<#INCLUDE footer.template.html#>
